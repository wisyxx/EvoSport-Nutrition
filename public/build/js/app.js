async function startApp(){startImageRotation(await loadAdImages()),await loadProducts(),popularProductsSlider()}async function fetchAPI(t){try{const e=await fetch(t);return await e.json()}catch(t){console.log(t)}}document.addEventListener("DOMContentLoaded",()=>{startApp()});const menu=document.querySelector(".menu");function menuAnimation(){document.querySelectorAll(".menu > div").forEach(t=>{t.classList.toggle("active"),t.classList.remove("not-active")}),dropDownMenu()}function dropDownMenu(){document.querySelector(".drop-menu").classList.toggle("hidden")}async function getAdImages(){const t=await fetchAPI("http://localhost:3000/api/ad-images");let e=[];return 0!==e.length||t.forEach(t=>{const{name:n}=t;e=[...e,n]}),e}async function loadAdImages(){const t=await getAdImages(),e=document.querySelector(".ads-container");let n=[];return t.forEach((t,c)=>{const a=document.createElement("DIV");a.classList.add("slide-image"),a.style.backgroundImage=`url('../build/img/ads/${t}')`,e.appendChild(a),n.push(a),0===c&&a.classList.add("active")}),n}function startImageRotation(t){let e=0;setInterval(()=>{t[e].classList.remove("active"),e+=1,e>=t.length&&(e=0),t[e].classList.add("active")},6e3)}async function loadProducts(){const t=await fetchAPI("http://localhost:3000/api/products"),e=document.querySelector(".products");t.forEach(t=>{const{name:n,price:c,image:a}=t,o=document.createElement("DIV");o.classList.add("product-container");const s=document.createElement("P");s.classList.add("product-name"),s.textContent=n;const d=document.createElement("P");d.classList.add("product-price"),d.textContent=c+"â‚¬";const r=document.createElement("IMG");r.classList.add("product-image"),r.setAttribute("src","build/img/products/"+a),o.append(r,s,d),e.appendChild(o)})}function popularProductsSlider(){const t=document.querySelector("#arrow-left"),e=document.querySelector("#arrow-left");t.addEventListener("click",()=>{}),e.addEventListener("click",()=>{})}menu.addEventListener("click",()=>menuAnimation());