async function startApp(){startImageRotation(await loadAdImages()),await loadProducts()}async function fetchAPI(t){try{const e=await fetch(t);return await e.json()}catch(t){console.log(t)}}document.addEventListener("DOMContentLoaded",()=>{startApp()});const menu=document.querySelector(".menu");function menuAnimation(){document.querySelectorAll(".menu > div").forEach(t=>{t.classList.toggle("active"),t.classList.remove("not-active")}),dropDownMenu()}function dropDownMenu(){document.querySelector(".drop-menu").classList.toggle("hidden")}async function getAdImages(){const t=await fetchAPI("http://localhost:3000/api/ad-images");let e=[];return 0!==e.length||t.forEach(t=>{const{name:n}=t;e=[...e,n]}),e}async function loadAdImages(){const t=await getAdImages(),e=document.querySelector(".ads-container");let n=[];return t.forEach((t,a)=>{const c=document.createElement("DIV");c.classList.add("slide-image"),c.style.backgroundImage=`url('../build/img/ads/${t}')`,e.appendChild(c),n.push(c),0===a&&c.classList.add("active")}),n}function startImageRotation(t){let e=0;setInterval(()=>{t[e].classList.remove("active"),e+=1,e>=t.length&&(e=0),t[e].classList.add("active")},6e3)}async function loadProducts(){const t=await fetchAPI("http://localhost:3000/api/products"),e=document.querySelector(".products");t.forEach(t=>{const{name:n,price:a}=t,c=document.createElement("DIV");c.classList.add("product-container");const o=document.createElement("P");o.textContent=n;const s=document.createElement("P");s.textContent=a,c.append(o,s),e.appendChild(c)})}menu.addEventListener("click",()=>menuAnimation());