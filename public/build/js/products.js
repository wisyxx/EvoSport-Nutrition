import{fetchAPI}from"./app.js";async function startApp(){await loadProducts(1)}async function loadProducts(t){const e=await fetchAPI("http://localhost:3000/api/products?page="+t);console.log(e);const{products:c,productsCount:o}=e;console.log(e.productsCount);const n=document.querySelector(".products");if(n.innerHTML="",c.forEach(t=>{const{id:e,name:c,price:o,image:d}=t,a=document.createElement("a");a.setAttribute("href","/product?id="+e),a.classList.add("product-container");const s=document.createElement("p");s.classList.add("product-name"),s.textContent=c;const r=document.createElement("p");r.classList.add("product-price"),r.textContent=o+"â‚¬";const i=document.createElement("img");i.classList.add("product-image"),i.setAttribute("src","build/img/products/"+d),a.append(i,s,r),n.appendChild(a)}),!document.querySelector(".pagination")){const t=document.createElement("DIV");t.classList.add("pagination");const e=Math.ceil(o/10);for(let c=1;c<=e;c++){const e=document.createElement("button");e.textContent=c,e.addEventListener("click",()=>{loadProducts(c)}),t.appendChild(e)}document.querySelector(".products-container").appendChild(t)}}document.addEventListener("DOMContentLoaded",()=>{startApp()});