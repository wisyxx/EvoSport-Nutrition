import{fetchAPI}from"./app.js";async function startApp(){await loadProducts()}async function loadProducts(t=1){const e=await fetchAPI("http://localhost:3000/api/products?page="+t),{products:n,productsCount:c}=e,o=document.querySelector(".products");o.innerHTML="",n.forEach(t=>{const{id:e,name:n,price:c,image:a}=t,d=document.createElement("a");d.setAttribute("href","/product?id="+e),d.classList.add("product-container");const i=document.createElement("p");i.classList.add("product-name"),i.textContent=n;const r=document.createElement("p");r.classList.add("product-price"),r.textContent=c+"â‚¬";const s=document.createElement("img");s.classList.add("product-image"),s.setAttribute("src","build/img/products/"+a),d.append(s,i,r),o.appendChild(d)}),pagination(c,t)}function pagination(t,e){const n=t;if(!document.querySelector(".pagination")){const t=document.createElement("DIV");t.classList.add("pagination"),document.querySelector(".search").appendChild(t)}const c=Math.ceil(n/10),o=document.querySelector(".pagination");if(e<c&&e!==c-1&&e!==c-2){o.innerHTML="";for(let t=e;t<=e+3;t++){if(t>c)return;{const e=document.createElement("button");e.classList.add("pagination__button"),e.textContent=t,e.addEventListener("click",()=>{loadProducts(t)}),o.append(e)}}}}document.addEventListener("DOMContentLoaded",()=>{startApp()});