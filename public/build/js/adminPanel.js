function startApp(){deleteUserButton(),setAdminButton(),deleteProductButton()}function deleteUserButton(){document.querySelectorAll(".remove-user").forEach(t=>{t.addEventListener("click",t=>{deleteUser(t.target.dataset.userid)})})}function setAdminButton(){document.querySelectorAll(".set-admin").forEach(t=>{t.addEventListener("click",t=>{setAdmin(t.target.dataset.userid)})})}function deleteProductButton(){document.querySelectorAll(".remove-product").forEach(t=>{t.addEventListener("click",t=>{deleteProduct(t.target.dataset.productid)})})}async function deleteUser(t){const e=new FormData;e.append("id",t);try{await fetch(location.origin+"/api/users/delete",{method:"POST",body:e});Swal.fire({title:"User deleted!",icon:"success",confirmButtonText:"Ok",confirmButtonColor:"#a1f25f"}).then(()=>{location.reload()})}catch(t){Swal.fire({title:"Something went wrong...",text:"Try again later",icon:"error"}).then(()=>{location.reload()})}}async function setAdmin(t){const e=new FormData;e.append("id",t);try{await fetch(location.origin+"/api/users/set-admin",{method:"POST",body:e});Swal.fire({title:"Admin status changed!",icon:"success",confirmButtonText:"Ok",confirmButtonColor:"#a1f25f"}).then(()=>{location.reload()})}catch(t){Swal.fire({title:"Something went wrong...",text:"Try again later",icon:"error"}).then(()=>{location.reload()})}}async function deleteProduct(t){const e=new FormData;e.append("id",t);try{await fetch(location.origin+"/api/products/delete",{method:"POST",body:e});Swal.fire({title:"Product deleted!",icon:"success",confirmButtonText:"Ok",confirmButtonColor:"#a1f25f"}).then(()=>{location.reload()})}catch(t){Swal.fire({title:"Something went wrong...",text:"Try again later",icon:"error"}).then(()=>{location.reload()})}}window.addEventListener("DOMContentLoaded",()=>{startApp()});